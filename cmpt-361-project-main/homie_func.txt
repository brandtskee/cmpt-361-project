import socket
import sys
import os
import random
from Crypto.Cipher import AES
from Crypto.Random import get_random_bytes
from Crypto.Util.Padding import pad, unpad

EXIT = "The connection is terminated with the server.\n"
INCORRECT_ID = "Invalid username or password.\nTerminating.\n"
def terminate(message,connectionSocket):
    sendMessage(message,connectionSocket)
    connectionSocket.close()

def get_email(id_string):
    emails = id_string.split(";")
    return emails

def send_file(filename):
    with open(filename, "rb") as f:
         txt = f.read()
    if len(text) > 1000000:
        return f"Message is too long"
    return txt




def get_dict(cli_nme):
    f = open(cli_nme,'r')
    data = json.load(f)
    return data 

def get_email(inbox, index):
    for key in inbox:
        if index == key:
            cli = inbox[key]['sender']
            title = inbox[key]['title']
    file = " "+cli+"_"+title+".txt"
    return file

def load_email(filename):
    f = open(filename)
    email = f.read()
    return email